<!DOCTYPE html>
<html>
<body>	
		<h1>图片上传</h1>
		<iframe name = ""></iframe>
		<form id = 'form' action="" enctype="multipart/form-data" method="post">
			<input id='input' type="file" name="pic">
		</form>
</body>
<script>
var nn = setInterval(function(){
	if(document.getElementById('input').value.length){
		/*var input=document.getElementById('input');
		var xmlHttp;
		if(window.XMLHttpRequest) {
		    xmlHttp=new XMLHttpRequest();
		}else{
		    xmlHttp=new ActiveXObject(Msxml2.XMLHTTP);
		}
		xmlHttp.open("POST",'creatserver.js',true);
		xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded")//将send的编码格式转为浏览器解析支持的格式name:1, id:（空格）2
		xmlHttp.send(document.getElementById('input').value); 
		xmlHttp.onreadystatechange=getOkPost
		function getOkPost(){
		    if(xmlHttp.readyState==1||xmlHttp.readyState==2||xmlHttp.readyState==3){
		        // 本地提示：加载中/处理中
		                                                 
		    }
		    if (xmlHttp.readyState==4 && xmlHttp.status==200){
		        console.log(xmlHttp.getResponseHeader("Content-Type"));//返回的文本格式类型 比如json格式的string
		        var d=xmlHttp.responseText; // 返回值
		        // 处理返回值
		    }
		}*/

		document.getElementById('form').submit();
		clearInterval(nn);
	}
},2000)


</script>
</html>